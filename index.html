<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="theme-color" content="#0f1419">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="description" content="A browser-based game inspired by Sol's RNG with aura rolling, potion crafting, and item collection mechanics.">
    <title>Sol's RNG - Aura Rolling Game</title>
    <link rel="icon" href="favicon.ico">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <!-- Modern UI stylesheets -->
    <link rel="stylesheet" href="modern-ui.css?v=2.0.2">
    <link rel="stylesheet" href="modern-ui-components.css?v=2.0.2">
    <link rel="stylesheet" href="modern-ui-tabs.css?v=1.3">
    <link rel="stylesheet" href="modern-ui-effects.css?v=1.2">
    <link rel="stylesheet" href="modern-ui-utilities.css?v=1.2">
    <link rel="stylesheet" href="debug-menu-styles.css?v=1.4">
    <link rel="stylesheet" href="debug-auth-styles.css?v=2.0.2">
    
    <!-- Feature-specific stylesheets -->
    <link rel="stylesheet" href="achievements-dailyquests.css?v=1.1">
    <link rel="stylesheet" href="achievement-notification-styles.css?v=1.0">
    <link rel="stylesheet" href="codex-styles.css?v=2.0">
    <link rel="stylesheet" href="performance-optimizer.css?v=1.0">
    <link rel="stylesheet" href="prevent-ui-shift.css?v=1.0">
    <link rel="stylesheet" href="leaderboard-styles.css?v=5.0">
    <link rel="stylesheet" href="leaderboard-ui-styles.css?v=5.0">
    <link rel="stylesheet" href="admin-panel-styles.css?v=1.0">
    <link rel="stylesheet" href="gift-system-styles.css?v=1.0">
    <link rel="stylesheet" href="name-picker-styles.css?v=1.0">
    <link rel="stylesheet" href="global-notifications-styles.css?v=1.0">
    <link rel="stylesheet" href="live-chat-styles.css?v=3.0">
    <link rel="stylesheet" href="battlePass.css?v=1.2">
    <link rel="stylesheet" href="cosmetics-selector.css?v=1.1">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Creepster&family=Orbitron:wght@400;700;900&family=Press+Start+2P&family=Rubik+Mono+One&family=Black+Ops+One&family=Righteous&family=Audiowide&family=Bungee&family=Monoton&family=Faster+One&family=Eater&family=Nosifer&family=Metal+Mania&family=Butcherman&family=Jolly+Lodger&family=Lacquer&family=Rye&family=UnifrakturMaguntia&family=MedievalSharp&family=Cinzel:wght@700&family=Cinzel+Decorative:wght@700&family=Teko:wght@700&family=Exo+2:wght@700&family=Russo+One&family=Play:wght@700&family=Share+Tech+Mono&family=Wallpoet&family=Nova+Mono&family=VT323&family=Special+Elite&family=Rubik+Moonrocks&family=Permanent+Marker&family=Bungee+Shade&family=Fontdiner+Swanky&family=Megrim&family=Uncial+Antiqua&family=Aladin&family=Sniglet&family=Fascinate&family=Pirata+One&family=Trade+Winds&family=New+Rocker&family=Caesar+Dressing&family=Rammetto+One&family=Freckle+Face&family=Knewave&family=Silkscreen&family=Great+Vibes&family=Indie+Flower&family=Griffy&family=Electrolize&family=Turret+Road&family=Racing+Sans+One&family=Michroma&family=Cormorant+Garamond:wght@400;700&family=Saira+Condensed:wght@700&family=Luxurious+Script&display=swap" rel="stylesheet">
    
    <!-- Animation Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/7.4.0/pixi.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three-nebula@10.0.3/build/three-nebula.min.js"></script>
    
    <!-- Audio Library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js"></script>
    
    <!-- Mobile optimizations -->
    <script src="mobile.js"></script>
</head>
<body>
    <!-- ============================================
         TOP NAVIGATION BAR
         ============================================ -->
    <nav class="top-nav">
        <div class="nav-brand">
            <span class="brand-icon">‚≠ê</span>
            <span class="brand-text">SOL'S RNG</span>
        </div>
        
        <div class="nav-stats">
            <div class="stat-pill">
                <span class="stat-icon">üí∞</span>
                <div class="stat-content">
                    <span class="stat-label">Money</span>
                    <span class="stat-value" id="moneyDisplay">0</span>
                </div>
            </div>
            <div class="stat-pill">
                <span class="stat-icon">üåÄ</span>
                <div class="stat-content">
                    <span class="stat-label">Void Coins</span>
                    <span class="stat-value" id="voidCoinsDisplay">0</span>
                </div>
            </div>
            <div class="stat-pill">
                <span class="stat-icon">üåë</span>
                <div class="stat-content">
                    <span class="stat-label">Dark Points</span>
                    <span class="stat-value" id="darkPointsDisplay">0</span>
                </div>
            </div>
            <div class="stat-pill">
                <span class="stat-icon">üéÉ</span>
                <div class="stat-content">
                    <span class="stat-label">Halloween Medals</span>
                    <span class="stat-value" id="halloweenMedalsDisplay">0</span>
                </div>
            </div>
        </div>
        
        <div class="nav-actions">
            <!-- ‚úÖ Leaderboard enabled with local backend -->
            <button class="nav-btn" id="statsLeaderboardBtn" title="Stats Leaderboards - Global Auras" onclick="openLeaderboardModal('globals')">üìä</button>
            <button class="nav-btn" id="battlePassBtn" title="Battle Pass" onclick="openBattlePassModal()">‚öîÔ∏è</button>
            <button class="nav-btn" id="settingsBtn" title="Settings" onclick="openSettingsModal()">‚öôÔ∏è</button>
            <button class="nav-btn" id="helpBtn" title="Help (H)" onclick="openHelpModal()">‚ùì</button>
        </div>
    </nav>

    <!-- ============================================
         QUICK ACTION SLOTS (Top Right)
         ============================================ -->
    <div class="quick-slots">
        <div class="quick-slot" id="quickSlot1" data-key="1">
            <span class="slot-key">1</span>
            <span class="slot-icon">+</span>
        </div>
        <div class="quick-slot" id="quickSlot2" data-key="2">
            <span class="slot-key">2</span>
            <span class="slot-icon">+</span>
        </div>
        <div class="quick-slot" id="quickSlot3" data-key="3">
            <span class="slot-key">3</span>
            <span class="slot-icon">+</span>
        </div>
    </div>

    <!-- ============================================
         MAIN LAYOUT (3-Column Grid)
         ============================================ -->
    <div class="main-container">
        <!-- LEFT SIDEBAR -->
        <aside class="sidebar sidebar-left">
            <!-- Biome & Time Card -->
            <div class="card biome-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <span class="icon">üåç</span>
                        Current Biome
                    </h3>
                </div>
                <div class="card-body text-center">
                    <div class="biome-icon">üåü</div>
                    <div class="biome-name" id="biomeDisplay">STAR</div>
                    <div class="time-badge" id="timeDisplay">
                        <span class="time-icon">‚òÄÔ∏è</span>
                        <span class="time-text">Day</span>
                    </div>
                    <!-- Limbo button hidden -->
                    <button class="btn btn-limbo" id="limboToggleBtn" style="display: none !important;" onclick="toggleLimbo()">
                        üåå Enter Limbo
                    </button>
                </div>
            </div>

            <!-- Equipment Card -->
            <div class="card equipment-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <span class="icon">‚öîÔ∏è</span>
                        Equipment
                    </h3>
                </div>
                <div class="card-body">
                    <div class="equipment-grid">
                        <div class="equipment-slot" data-slot="right">
                            <div class="slot-icon">ü§ö</div>
                            <div class="slot-label">Right Hand</div>
                            <div class="slot-item" id="rightHandSlot">
                                <div class="empty-slot-text">Empty</div>
                            </div>
                            <button class="unequip-btn" onclick="unequipGear('right')">‚úï</button>
                        </div>
                        <div class="equipment-slot" data-slot="left">
                            <div class="slot-icon">üñêÔ∏è</div>
                            <div class="slot-label">Left Hand</div>
                            <div class="slot-item" id="leftHandSlot">
                                <div class="empty-slot-text">Empty</div>
                            </div>
                            <button class="unequip-btn" onclick="unequipGear('left')">‚úï</button>
                        </div>
                        <div class="equipment-slot" data-slot="accessory">
                            <div class="slot-icon">üíç</div>
                            <div class="slot-label">Accessory</div>
                            <div class="slot-item" id="accessorySlot">
                                <div class="empty-slot-text">Empty</div>
                            </div>
                            <button class="unequip-btn" onclick="unequipGear('accessory')">‚úï</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats Card -->
            <div class="card stats-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <span class="icon">üìä</span>
                        Stats
                    </h3>
                </div>
                <div class="card-body">
                    <div class="stat-row">
                        <span class="stat-label">Total Rolls</span>
                        <span class="stat-value" id="totalRolls">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Luck</span>
                        <span class="stat-value" id="currentLuck">100%</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Speed</span>
                        <span class="stat-value" id="rollSpeed">100%</span>
                    </div>
                </div>
            </div>

            <!-- Active Effects Card -->
            <div class="card effects-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <span class="icon">‚ú®</span>
                        Active Effects
                    </h3>
                </div>
                <div class="card-body">
                    <div id="effectsList" class="effects-list">
                        <div class="empty-state">No active effects</div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- CENTER AREA -->
        <main class="main-content game-area">
            <!-- Roll Display Card -->
            <div class="card roll-card">
                <div class="roll-display" id="currentAuraDisplay">
                    <div class="aura-name">Ready to Roll!</div>
                    <div class="aura-rarity">Click the button below to start</div>
                </div>
                <div class="bonus-indicator" id="bonusRollIndicator" style="display:none;">
                    ‚ö° 2X LUCK READY!
                </div>
                <div class="roll-counter" id="rollCounter">Roll: 0/10</div>
            </div>

            <!-- Roll Buttons -->
            <div class="roll-buttons">
                <button class="btn btn-roll" id="rollButton">
                    <span class="btn-icon">üé≤</span>
                    <span class="btn-text">ROLL</span>
                    <span class="btn-hint">Press R</span>
                </button>
                <button class="btn btn-quick" id="quickRollButton">
                    <span class="btn-icon">‚ö°</span>
                    <span class="btn-text">QUICK ROLL</span>
                    <span class="btn-hint">Press Q</span>
                </button>
                <button class="btn btn-auto" id="autoRollButton">
                    <span class="btn-icon">üîÑ</span>
                    <span class="btn-text">AUTO ROLL: OFF</span>
                    <span class="btn-hint">Press A</span>
                </button>
            </div>

            <!-- Quest Tracker Card -->
            <div class="card quest-card">
                <div class="card-header">
                    <h3 class="card-title">
                        <span class="icon">üèÜ</span>
                        Active Quests
                    </h3>
                </div>
                <div class="card-body">
                    <div id="questsList" class="quests-list">
                        <div class="empty-state">No active quests</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- RIGHT SIDEBAR -->
        <aside class="sidebar sidebar-right">
            <!-- Tab Navigation -->
            <div class="tab-nav">
                <button class="tab-btn active" data-tab="inventory">
                    <span class="tab-icon">üéí</span>
                    <span class="tab-label">Inventory</span>
                </button>
                <button class="tab-btn" data-tab="crafting">
                    <span class="tab-icon">‚öóÔ∏è</span>
                    <span class="tab-label">Crafting</span>
                </button>
                <button class="tab-btn" data-tab="progress">
                    <span class="tab-icon">üèÜ</span>
                    <span class="tab-label">Progress</span>
                </button>
            </div>

            <!-- INVENTORY TAB -->
            <div class="tab-content active" id="inventoryTab">
                <div class="sub-tabs">
                    <button class="sub-tab-btn active" data-subtab="potions">Potions</button>
                    <button class="sub-tab-btn" data-subtab="items">Items</button>
                    <button class="sub-tab-btn" data-subtab="runes">Runes</button>
                    <button class="sub-tab-btn" data-subtab="gears">Gears</button>
                    <button class="sub-tab-btn" data-subtab="auras">Auras</button>
                </div>

                <!-- Potions Sub-tab -->
                <div class="sub-tab-content active" id="potionsSubTab">
                    <div class="bulk-mode-controls">
                        <label class="checkbox-label">
                            <input type="checkbox" id="bulkModeToggle">
                            <span>üéØ Bulk Mode</span>
                        </label>
                        <button id="useSelectedPotionsBtn" class="btn btn-sm btn-primary">
                            Use Selected <span id="selectedPotionsCount"></span>
                        </button>
                    </div>
                    <div class="inventory-grid" id="potionsInventory">
                        <div class="empty-state">No potions available</div>
                    </div>
                </div>

                <!-- Items Sub-tab -->
                <div class="sub-tab-content" id="itemsSubTab">
                    <div class="inventory-grid" id="itemsInventory">
                        <div class="empty-state">No items available</div>
                    </div>
                </div>

                <!-- Runes Sub-tab -->
                <div class="sub-tab-content" id="runesSubTab">
                    <div class="inventory-grid" id="runesInventory">
                        <div class="empty-state">No runes available</div>
                    </div>
                </div>

                <!-- Gears Sub-tab -->
                <div class="sub-tab-content" id="gearsSubTab">
                    <div class="inventory-grid" id="gearsInventory">
                        <div class="empty-state">No gears crafted</div>
                    </div>
                </div>

                <!-- Auras Sub-tab -->
                <div class="sub-tab-content" id="aurasSubTab">
                    <div class="auras-search">
                        <input type="text" id="aurasSearchInput" placeholder="üîç Search auras..." class="search-input">
                    </div>
                    <div class="auras-list" id="aurasInventory">
                        <div class="empty-state">No auras rolled yet</div>
                    </div>
                </div>
            </div>

            <!-- CRAFTING TAB -->
            <div class="tab-content" id="craftingTab">
                <div class="crafting-controls">
                    <button id="autoPotionToggle" class="btn btn-sm btn-secondary" onclick="toggleAutoPotion()">
                        üîí Auto-Potion (0/3,000)
                    </button>
                    <button id="autoCraftToggle" class="btn btn-sm btn-secondary" onclick="toggleAutoCraft()">
                        üîí Auto-Craft (0/5,000)
                    </button>
                </div>
                <div class="recipes-list" id="recipesList">
                    <div class="empty-state">Loading recipes...</div>
                </div>
            </div>

            <!-- PROGRESS TAB -->
            <div class="tab-content" id="progressTab">
                <div class="sub-tabs">
                    <button class="sub-tab-btn active" data-subtab="quests">Daily Quests</button>
                    <button class="sub-tab-btn" data-subtab="achievements">Achievements</button>
                    <button class="sub-tab-btn" data-subtab="codex">Codex</button>
                </div>

                <!-- Daily Quests Sub-tab -->
                <div class="sub-tab-content active" id="questsSubTab">
                    <div id="dailyQuestsContainer"></div>
                </div>

                <!-- Achievements Sub-tab -->
                <div class="sub-tab-content" id="achievementsSubTab">
                    <div id="achievements-tab"></div>
                </div>

                <!-- Codex Sub-tab -->
                <div class="sub-tab-content" id="codexSubTab">
                    <div id="codex-tab"></div>
                </div>
            </div>
        </aside>
    </div>

    <!-- ============================================
         TOAST NOTIFICATIONS
         ============================================ -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- ============================================
         ITEM SPAWN NOTIFICATION
         ============================================ -->
    <div id="itemSpawnNotification" class="item-spawn-notification"></div>

    <!-- ============================================
         MODALS
         ============================================ -->
    
    <!-- Aura Showcase Modal -->
    <div class="modal" id="auraModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalAuraName"></h2>
                <button class="modal-close" onclick="closeAuraModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="modalAuraRarity"></div>
                <div id="modalAuraTier"></div>
                <div id="modalAuraCount"></div>
            </div>
        </div>
    </div>

    <!-- Crafting Modal -->
    <div id="craftingModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalPotionName"></h2>
                <button class="modal-close" onclick="closeCraftingModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <div id="modalRecipe"></div>
                <div id="modalEffect"></div>
                <button id="craftButton" class="btn btn-primary">Craft</button>
            </div>
        </div>
    </div>

    <!-- Merchant Shop Modal -->
    <div id="achievementsContainer" class="modal">
        <div class="modal-content modal-large">
            <!-- Shop content will be dynamically inserted here -->
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settingsModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>‚öôÔ∏è Settings</h2>
                <button class="modal-close" onclick="closeSettingsModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <!-- Settings content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Leaderboard Modal -->
    <div id="leaderboardModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <h2>üìä Leaderboards</h2>
                <button class="modal-close" onclick="closeLeaderboardModal()">‚úï</button>
            </div>
            <div class="modal-body">
                <!-- Leaderboard content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- ============================================
         CUTSCENES
         ============================================ -->
    <div id="ultraRareCutscene" class="ultra-rare-cutscene">
        <canvas id="cutsceneCanvas"></canvas>
        <!-- Video elements for MP4 cutscenes -->
        <video id="archangelsVideo" class="cutscene-video"></video>
        <video id="abyssalHunterVideo" class="cutscene-video"></video>
        <video id="overtureHistoryVideo" class="cutscene-video"></video>
        <video id="gargantuaVideo" class="cutscene-video"></video>
        <video id="chromaticGenesisVideo" class="cutscene-video"></video>
        <video id="chromaticExoticVideo" class="cutscene-video"></video>
        <video id="apostolosVideo" class="cutscene-video"></video>
        <video id="oblivionVideo" class="cutscene-video"></video>
        <video id="abominationVideo" class="cutscene-video"></video>
        <video id="memoryVideo" class="cutscene-video"></video>
        <video id="dreammetricVideo" class="cutscene-video"></video>
        <video id="aegisVideo" class="cutscene-video"></video>
        <video id="evergreenVideo" class="cutscene-video"></video>
        <video id="oppressionVideo" class="cutscene-video"></video>
        <video id="symphonyVideo" class="cutscene-video"></video>
        <video id="kyawthuiteCutsceneVideo" class="cutscene-video"></video>
        <video id="equinoxVideo" class="cutscene-video"></video>
        <video id="archangelSeraphimVideo" class="cutscene-video"></video>
        <video id="luminosityVideo" class="cutscene-video"></video>
        <video id="overdriveVideo" class="cutscene-video"></video>
        <video id="overtureFutureVideo" class="cutscene-video"></video>
        <video id="mastermindVideo" class="cutscene-video"></video>
        <video id="mantaVideo" class="cutscene-video"></video>
        <video id="sanguineVideo" class="cutscene-video"></video>
        <video id="watergunVideo" class="cutscene-video"></video>
        <video id="fleetVideo" class="cutscene-video"></video>
        <video id="atlasVideo" class="cutscene-video"></video>
        <video id="imPeachVideo" class="cutscene-video"></video>
        <video id="legendariumVideo" class="cutscene-video"></video>
        <video id="lotusfallVideo" class="cutscene-video"></video>
        <video id="orchestraVideo" class="cutscene-video"></video>
        <video id="ruinsVideo" class="cutscene-video"></video>
        <video id="unknownVideo" class="cutscene-video"></video>
        <video id="witheringGraceVideo" class="cutscene-video"></video>
        <div class="cutscene-content">
            <div class="cutscene-title" id="cutsceneTitle">THE SEAL IS BREAKING...</div>
            <div class="cutscene-aura-name" id="cutsceneAuraName"></div>
            <div class="cutscene-rarity" id="cutsceneRarity"></div>
        </div>
    </div>

    <div id="rareCutscene" class="cutscene-overlay">
        <canvas id="rareCutsceneCanvas"></canvas>
        <div class="cutscene-text">
            <div id="rareAuraName" class="rare-aura-name"></div>
            <div id="rareAuraRarity" class="rare-aura-rarity"></div>
        </div>
    </div>

    <!-- ============================================
         GAME SCRIPTS
         ============================================ -->
    
    <!-- Firebase SDK REMOVED - Using local backend instead -->
    <!-- <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script> -->
    <!-- <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script> -->
    
    <!-- Force Update Script -->
    <script src="force-update.js?v=2.2"></script>
    
    <!-- Update System -->
    <script src="updateSystem.js?v=2.2"></script>
    
    <!-- Configure Backend URL for ngrok tunnel -->
    <script>
        window.BACKEND_URL = 'https://awilda-overmagnetic-deceptively.ngrok-free.dev';
    </script>
    
    <!-- Global Leaderboard System (Local Backend) -->
    <script src="leaderboard-local.js?v=5.4"></script>
    
    <!-- Firebase Configuration REMOVED - Using local backend -->
    <!-- <script src="firebase-config.js?v=1.0"></script> -->
    
    <!-- Anti-Cheat System (Load BEFORE game logic) -->
    <script src="anti-cheat.js?v=1.0"></script>
    <script src="anomaly-detection.js?v=1.0"></script>
    
    <!-- Name Picker (Must be first - runs before game) -->
    <script src="name-picker.js?v=1.0"></script>
    
    <!-- Admin Panel (Force Refresh & Management) -->
    <script src="admin-panel.js?v=1.1"></script>
    
    <!-- Admin Panel Local (Works with local backend) -->
    <script src="admin-panel-local.js?v=1.0"></script>
    
    <!-- Gift System (Receive Auras from Admin) -->
    <script src="gift-system.js?v=1.1"></script>
    
    <!-- Admin Actions Listener (Execute Admin Commands) -->
    <script src="admin-actions-listener.js?v=1.1"></script>
    
    <!-- Global Roll Notifications -->
    <script src="global-notifications.js?v=1.1"></script>
    
    <!-- Live Chat System -->
    <script src="live-chat.js?v=3.1"></script>
    
    <!-- Game Scripts -->
    <script src="debug.js?v=1.1"></script>
    <script src="debugAuth.js?v=2.2"></script>
    <script src="auraData.js?v=1.2"></script>
    <script src="potionRecipes.js?v=1.0"></script>
    <script src="runesData.js?v=1.0"></script>
    <script src="biomes.js?v=1.7"></script>
    <script src="quests.js?v=1.1"></script>
    <script src="achievementsData.js?v=1.1"></script>
    <script src="dailyQuests.js?v=1.0"></script>
    <script src="merchants.js?v=1.0"></script>
    <script src="gearData.js?v=1.2"></script>
    
    <!-- Cutscene Scripts -->
    <script src="cutscene-maelstrom.js?v=1.0"></script>
    <script src="cutscene-nightmare-sky.js?v=1.0"></script>
    <script src="cutscene-bloodlust.js?v=1.0"></script>
    <script src="cutscene-astral-legendarium.js?v=1.0"></script>
    <script src="cutscene-sovereign.js?v=1.0"></script>
    <script src="cutscene-ruins.js?v=1.0"></script>
    <script src="cutscene-ruins-withered.js?v=1.0"></script>
    <script src="cutscene-manta.js?v=1.0"></script>
    <script src="cutscene-lotusfall.js?v=1.1"></script>
    <script src="cutscene-hades-develium.js?v=1.1"></script>
    
    <!-- QoL Systems -->
    <script src="qol-system.js?v=1.5"></script>
    <script src="performance-optimizer.js?v=1.0"></script>
    <script src="qol-inventory.js?v=1.1"></script>
    <script src="qol-quick-slots.js?v=1.0"></script>
    <script src="qol-crafting-queue.js?v=1.0"></script>
    <script src="qol-offline-progress.js?v=1.0"></script>
    <script src="qol-gear-loadouts.js?v=1.0"></script>
    <script src="qol-advanced-features.js?v=1.2"></script>
    
    <!-- Game Logic -->
    <script src="codex.js?v=2.0"></script>
    <script src="gameLogic.js?v=3.7"></script>
    <script src="crafting.js?v=1.0"></script>
    
    <!-- Cutscene Settings System -->
    <script src="cutscene-settings.js?v=1.0"></script>
    
    <!-- Notification Settings System -->
    <script src="notification-settings.js?v=1.0"></script>
    
    <!-- Leaderboard Stats Tracking -->
    <script src="leaderboard-stats.js?v=5.1"></script>
    <script src="leaderboard-ui-local.js?v=5.5"></script>
    <script src="leaderboard-auto-submit.js?v=1.3"></script>
    
    <!-- Battle Pass System -->
    <script src="battlePass.js?v=1.3"></script>
    <script src="cosmetics-selector.js?v=1.2"></script>
    
    <!-- UI Initialization -->
    <script src="ui-init.js?v=1.0"></script>
    
    <!-- Initialize Enhanced QoL Systems -->
    <script>
        window.addEventListener('load', () => {
            setTimeout(() => {
                // Initialize all enhanced QoL systems
                if (typeof initQuickSlots === 'function') initQuickSlots();
                if (typeof initCraftingQueue === 'function') initCraftingQueue();
                if (typeof initOfflineProgress === 'function') initOfflineProgress();
                if (typeof initGearLoadouts === 'function') initGearLoadouts();
                if (typeof initAdvancedFeatures === 'function') initAdvancedFeatures();
                if (typeof initPerformanceOptimizer === 'function') initPerformanceOptimizer();
                console.log('üéÆ All Enhanced QoL Systems Initialized!');
            }, 2000);
        });
    </script>
    
    <!-- Service Worker Registration for PWA -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js?v=2.0')
                    .then(registration => {
                        console.log('Service Worker registered successfully:', registration.scope);
                        if (registration.waiting) {
                            registration.waiting.postMessage({action: 'skipWaiting'});
                        }
                    })
                    .catch(error => {
                        console.log('Service Worker registration failed:', error);
                    });
            });
        }
    </script>
</body>
</html>
